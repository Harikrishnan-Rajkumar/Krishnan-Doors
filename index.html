<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <meta name="description" content="Browse our E-Catalogue for product images and details." />
  <meta name="keywords" content="e-catalogue, products, images, download" />
  <title>Krishnan Doors</title>
  
  <!-- Optimized CSS and JS -->
  <script src="https://cdn.tailwindcss.com" defer></script>
  <style>
    body { font-family: sans-serif; }

    /* Ensure images are properly sized and centered */
    .image-card {
      position: relative;
      overflow: hidden;
    }

    html {
      text-size-adjust: 100%; /* Ensures text scaling is optimized */
    }
  </style>
</head>
<body class="bg-gray-50 flex flex-col min-h-screen">
  <!-- Navbar -->
  <nav class="bg-white shadow-md sticky top-0 z-50">
    <div class="max-w-6xl mx-auto px-4">
      <div class="flex justify-between items-center py-4">
        <a href="index.html" class="text-xl font-bold text-blue-600 hover:text-blue-800 transition">Krishnan Doors</a>
        <button aria-label="Toggle navigation menu" class="md:hidden text-gray-700 focus:outline-none" onclick="toggleMenu()">
          <svg class="w-6 h-6" fill="none" stroke="currentColor" stroke-width="2" viewBox="0 0 24 24">
            <path stroke-linecap="round" stroke-linejoin="round" d="M4 6h16M4 12h16M4 18h16" />
          </svg>
        </button>
        <div id="menu" class="hidden md:flex space-x-6">
          <a href="index.html" class="text-gray-700 hover:text-blue-600 transition">Home</a>
          <a href="about.html" class="text-gray-700 hover:text-blue-600 transition">About</a>
          <a href="contact.html" class="text-gray-700 hover:text-blue-600 transition">Contact</a>
        </div>
      </div>
    </div>
  </nav>

  <!-- Main Content -->
  <main class="flex-grow">
    <div class="max-w-7xl mx-auto p-4">
      <!-- Heading -->
      <h1 class="text-3xl md:text-4xl font-bold mb-6 text-center text-gray-800 hover:text-blue-500 transition">Krishnan Doors</h1>

      <!-- Search -->
      <input
        type="text"
        id="searchInput"
        placeholder="Search by serial number (e.g., vmk01)"
        class="w-full p-3 mb-6 border border-gray-300 rounded-xl focus:outline-none focus:ring-2 focus:ring-blue-400 transition"
        aria-label="Search product by serial number"
      />

      <!-- Gallery -->
      <div id="gallery" class="grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-6"></div>
    </div>
  </main>

  <!-- Footer -->
  <footer class="bg-white border-t mt-12">
    <div class="max-w-6xl mx-auto px-4 py-6 text-center text-sm text-gray-500">
      &copy; 2025 Krishnan Doors All rights reserved. |
      <a href="contact.html" class="text-blue-500 hover:text-blue-700 transition">Contact Us</a>
    </div>
  </footer>

  <script>
    // Image serials list for scalable gallery
    const imageSerials = [
      "VMK01", "VMK02", "VMK04", "VMK05", "VMK06"
    ];

    const gallery = document.getElementById("gallery");

    function createImageCard(serial) {
      return `
        <div class="bg-white rounded-2xl shadow hover:shadow-xl transition-transform hover:-translate-y-1 duration-300 image-card">
          <!-- Clicking the image opens it in full size -->
          <a href="https://raw.githubusercontent.com/Harikrishnan-Rajkumar/Krishnan-Doors/refs/heads/main/Images/${serial.toLowerCase()}-desktop.webp" target="_blank">
            <img 
              src="https://raw.githubusercontent.com/Harikrishnan-Rajkumar/Krishnan-Doors/refs/heads/main/Images/${serial.toLowerCase()}-mobile.webp"
              srcset="
                https://raw.githubusercontent.com/Harikrishnan-Rajkumar/Krishnan-Doors/refs/heads/main/Images/${serial.toLowerCase()}-mobile.webp 480w, 
                https://raw.githubusercontent.com/Harikrishnan-Rajkumar/Krishnan-Doors/refs/heads/main/Images/${serial.toLowerCase()}-desktop.webp 768w, 
                https://raw.githubusercontent.com/Harikrishnan-Rajkumar/Krishnan-Doors/refs/heads/main/Images/${serial.toLowerCase()}-desktop.webp 1280w, 
                https://raw.githubusercontent.com/Harikrishnan-Rajkumar/Krishnan-Doors/refs/heads/main/Images/${serial.toLowerCase()}-desktop.webp 1920w"
              sizes="(max-width: 640px) 100vw, (max-width: 768px) 50vw, (max-width: 1024px) 33vw, 25vw"
              alt="Product ${serial}"
              class="rounded-t-2xl w-full object-cover hover:brightness-105 transition"
              loading="lazy"
              decoding="async"
            />
          </a>
        </div>
      `;
    }

    function renderGallery(filter = "") {
      gallery.innerHTML = imageSerials
        .filter(serial => serial.toLowerCase().includes(filter.toLowerCase()))
        .map(serial => createImageCard(serial))
        .join("");
    }

    document.getElementById("searchInput").addEventListener("input", e => renderGallery(e.target.value));

    function toggleMenu() {
      const menu = document.getElementById("menu");
      menu.classList.toggle("hidden");
    }

    // Initial render
    document.addEventListener("DOMContentLoaded", () => renderGallery());
  </script>
</body>
</html>
